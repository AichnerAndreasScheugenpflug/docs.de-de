---
title: Laden von XAML und Abhängigkeitseigenschaften
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- custom dependency properties [WPF]
- dependency properties [WPF], XAML loading and
- loading XML data [WPF]
ms.assetid: 6eea9f4e-45ce-413b-a266-f08238737bf2
ms.openlocfilehash: 3cce6e09cd2dbb02a07487ade781b03406fcad96
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/23/2019
ms.locfileid: "54580277"
---
# <a name="xaml-loading-and-dependency-properties"></a><span data-ttu-id="e18a0-102">Laden von XAML und Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="e18a0-102">XAML Loading and Dependency Properties</span></span>
<span data-ttu-id="e18a0-103">Die aktuelle [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Implementierung des [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]-Prozessors ist mit Abhängigkeitseigenschaften kompatibel.</span><span class="sxs-lookup"><span data-stu-id="e18a0-103">The current [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of its [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor is inherently dependency property aware.</span></span> <span data-ttu-id="e18a0-104">Der [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]-Prozessor verwendet Methoden des Eigenschaftensystems zum Laden von binären [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] und zum Verarbeiten von Attributen, die Abhängigkeitseigenschaften sind.</span><span class="sxs-lookup"><span data-stu-id="e18a0-104">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor uses property system methods for dependency properties when loading binary [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and processing attributes that are dependency properties.</span></span> <span data-ttu-id="e18a0-105">Dadurch werden Eigenschaftenwrapper praktisch umgangen.</span><span class="sxs-lookup"><span data-stu-id="e18a0-105">This effectively bypasses the property wrappers.</span></span> <span data-ttu-id="e18a0-106">Wenn Sie benutzerdefinierte Abhängigkeitseigenschaften implementieren, Sie müssen dieses Verhalten berücksichtigen und vermeiden jeder andere Code in Ihrem Eigenschaftenwrapper außer den Methoden des Eigenschaftensystems <xref:System.Windows.DependencyObject.GetValue%2A> und <xref:System.Windows.DependencyObject.SetValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="e18a0-106">When you implement custom dependency properties, you must account for this behavior and should avoid placing any other code in your property wrapper other than the property system methods <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span>  
  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="e18a0-107">Vorraussetzungen</span><span class="sxs-lookup"><span data-stu-id="e18a0-107">Prerequisites</span></span>  
 <span data-ttu-id="e18a0-108">In diesem Thema wird davon ausgegangen, dass Sie Abhängigkeitseigenschaften sowohl aus Sicht eines Anwenders als auch der eines Autors verstehen, und dass Sie [Übersicht über Abhängigkeitseigenschaften](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md) und [Benutzerdefinierte Abhängigkeitseigenschaften](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) gelesen haben.</span><span class="sxs-lookup"><span data-stu-id="e18a0-108">This topic assumes that you understand dependency properties both as consumer and author and have read [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md) and [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).</span></span> <span data-ttu-id="e18a0-109">Sie sollten auch [Übersicht über XAML (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) und [Ausführliche Erläuterung der XAML-Syntax](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md) gelesen haben.</span><span class="sxs-lookup"><span data-stu-id="e18a0-109">You should also have read [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) and [XAML Syntax In Detail](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md).</span></span>  
  
<a name="implementation"></a>   
## <a name="the-wpf-xaml-loader-implementation-and-performance"></a><span data-ttu-id="e18a0-110">Implementierung und Leistung des WPF-XAML-Ladeprogramms</span><span class="sxs-lookup"><span data-stu-id="e18a0-110">The WPF XAML Loader Implementation, and Performance</span></span>  
 <span data-ttu-id="e18a0-111">Für die Implementierung betrifft, ist es weniger rechenintensiv, eine Eigenschaft als Abhängigkeitseigenschaft zu identifizieren und Zugriff auf das Eigenschaftensystem <xref:System.Windows.DependencyObject.SetValue%2A> Methode, um es anstelle der Verwendung des Eigenschaftenwrapper und dessen Setter festzulegen.</span><span class="sxs-lookup"><span data-stu-id="e18a0-111">For implementation reasons, it is computationally less expensive to identify a property as a dependency property and access the property system <xref:System.Windows.DependencyObject.SetValue%2A> method to set it, rather than using the property wrapper and its setter.</span></span> <span data-ttu-id="e18a0-112">Grund hierfür ist, dass der [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]-Prozessor das gesamte Objektmodell des unterstützenden Codes allein auf Basis der Typ- und Mitgliedsbeziehungen, die durch die Markupstruktur und verschiedene Zeichenfolgen erkennbar sind, herleiten muss.</span><span class="sxs-lookup"><span data-stu-id="e18a0-112">This is because a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor must infer the entire object model of the backing code based only on knowing the type and member relationships that are indicated by the structure of the markup and various strings.</span></span>  
  
 <span data-ttu-id="e18a0-113">Der Typ gesucht wird durch eine Kombination von Xmlns und Assemblyattribute, sondern identifiziert die Elemente ermitteln, welches kann als Attribut festgelegt wird, und beheben, welche Typen die Eigenschaftswerte unterstützen, würde sonst umfangreiche Reflektion erfordern Mithilfe von <xref:System.Reflection.PropertyInfo>.</span><span class="sxs-lookup"><span data-stu-id="e18a0-113">The type is looked up through a combination of xmlns and assembly attributes, but identifying the members, determining which could support being set as an attribute, and resolving what types the property values support would otherwise require extensive reflection using <xref:System.Reflection.PropertyInfo>.</span></span> <span data-ttu-id="e18a0-114">Da Abhängigkeitseigenschaften für einen bestimmten Typ als eine Speichertabelle über das Eigenschaftensystem, zugänglich sind die [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Implementierung der [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] Prozessor verwendet diese Tabelle und folgert, dass die angegebene Eigenschaft *ABC* durch Aufrufen von effizienter festgelegt werden können <xref:System.Windows.DependencyObject.SetValue%2A> auf dem mit <xref:System.Windows.DependencyObject> abgeleiteten Typ, mit der Bezeichner der Abhängigkeitseigenschaft *ABCProperty*.</span><span class="sxs-lookup"><span data-stu-id="e18a0-114">Because dependency properties on a given type are accessible as a storage table through the property system, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of its [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor uses this table and infers that any given property *ABC* can be more efficiently set by calling <xref:System.Windows.DependencyObject.SetValue%2A> on the containing <xref:System.Windows.DependencyObject> derived type, using the dependency property identifier *ABCProperty*.</span></span>  
  
<a name="implications"></a>   
## <a name="implications-for-custom-dependency-properties"></a><span data-ttu-id="e18a0-115">Auswirkungen auf Benutzerdefinierte Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="e18a0-115">Implications for Custom Dependency Properties</span></span>  
 <span data-ttu-id="e18a0-116">Da die aktuelle [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Implementierung des [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]-Prozessorverhaltens für die Festlegung von Eigenschaften die Wrapper vollständig umgeht, dürfen Sie keine zusätzliche Logik in die Set-Definitionen des Wrappers für die benutzerdefinierte Abhängigkeitseigenschaft einfügen.</span><span class="sxs-lookup"><span data-stu-id="e18a0-116">Because the current [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor behavior for property setting bypasses the wrappers entirely, you should not put any additional logic into the set definitions of the wrapper for your custom dependency property.</span></span> <span data-ttu-id="e18a0-117">Wenn Sie solche Logik in der Set-Definition einfügen, wird diese Logik nicht ausgeführt werden, wenn die Eigenschaft in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] statt in Code festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="e18a0-117">If you put such logic in the set definition, then the logic will not be executed when the property is set in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] rather than in code.</span></span>  
  
 <span data-ttu-id="e18a0-118">Auf ähnliche Weise andere Aspekte der [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] Prozessor, der die Eigenschaftswerte aus abrufen [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] -Verarbeitung mittels <xref:System.Windows.DependencyObject.GetValue%2A> statt den Wrapper.</span><span class="sxs-lookup"><span data-stu-id="e18a0-118">Similarly, other aspects of the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor that obtain property values from [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processing also use <xref:System.Windows.DependencyObject.GetValue%2A> rather than using the wrapper.</span></span> <span data-ttu-id="e18a0-119">Aus diesem Grund zudem sollten Sie alle von zusätzlichen Implementierung in der `get` Definition außerhalb der <xref:System.Windows.DependencyObject.GetValue%2A> aufrufen.</span><span class="sxs-lookup"><span data-stu-id="e18a0-119">Therefore, you should also avoid any additional implementation in the `get` definition beyond the <xref:System.Windows.DependencyObject.GetValue%2A> call.</span></span>  
  
 <span data-ttu-id="e18a0-120">Das folgende Beispiel ist eine empfohlene Definition von Abhängigkeitseigenschaften mit Wrappern, wobei der Eigenschaftenbezeichner als `public` `static` `readonly`-Feld gespeichert wird und die `get`- und `set`-Definitionen keinen Code außer den erforderlichen Systemmethoden enthalten, die die Unterstützung der Abhängigkeitseigenschaft definieren.</span><span class="sxs-lookup"><span data-stu-id="e18a0-120">The following example is a recommended dependency property definition with wrappers, where the property identifier is stored as a `public` `static` `readonly` field, and the `get` and `set` definitions contain no code beyond the necessary property system methods that define the dependency property backing.</span></span>  
  
 [!code-csharp[WPFAquariumSln#AGWithWrapper](../../../../samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#agwithwrapper)]
 [!code-vb[WPFAquariumSln#AGWithWrapper](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#agwithwrapper)]  
  
## <a name="see-also"></a><span data-ttu-id="e18a0-121">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e18a0-121">See also</span></span>
- [<span data-ttu-id="e18a0-122">Übersicht über Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="e18a0-122">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)
- [<span data-ttu-id="e18a0-123">Übersicht über XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="e18a0-123">XAML Overview (WPF)</span></span>](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)
- [<span data-ttu-id="e18a0-124">Metadaten für Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="e18a0-124">Dependency Property Metadata</span></span>](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)
- [<span data-ttu-id="e18a0-125">Abhängigkeitseigenschaften vom Auflistungstyp</span><span class="sxs-lookup"><span data-stu-id="e18a0-125">Collection-Type Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/collection-type-dependency-properties.md)
- [<span data-ttu-id="e18a0-126">Sicherheit von Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="e18a0-126">Dependency Property Security</span></span>](../../../../docs/framework/wpf/advanced/dependency-property-security.md)
- [<span data-ttu-id="e18a0-127">Sichere Konstruktormuster für DependencyObjects</span><span class="sxs-lookup"><span data-stu-id="e18a0-127">Safe Constructor Patterns for DependencyObjects</span></span>](../../../../docs/framework/wpf/advanced/safe-constructor-patterns-for-dependencyobjects.md)
