---
title: Portieren von Bibliotheken auf .NET Core
description: Erfahren Sie, wie Sie Bibliotheksprojekte von .NET Framework zu .NET Core portieren.
author: cartermp
ms.date: 07/14/2017
ms.custom: seodec18
ms.openlocfilehash: 4002f7d0f98398163df1c4d02ff0e157584c2655
ms.sourcegitcommit: e6ad58812807937b03f5c581a219dcd7d1726b1d
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 12/10/2018
ms.locfileid: "53169680"
---
# <a name="port-net-framework-libraries-to-net-core"></a><span data-ttu-id="110b0-103">Portieren von .NET Framework-Bibliotheken auf .NET Core</span><span class="sxs-lookup"><span data-stu-id="110b0-103">Port .NET Framework libraries to .NET Core</span></span>

<span data-ttu-id="110b0-104">Informationen zum Portieren von .NET Framework-Bibliothekscode auf .NET Core, zur plattformübergreifenden Ausführung und zum Erweitern der Reichweite der Apps, die sie verwenden.</span><span class="sxs-lookup"><span data-stu-id="110b0-104">Learn how to port .NET Framework library code to .NET Core, to run cross-platform and expand the reach of the apps that use it.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="110b0-105">Erforderliche Komponenten</span><span class="sxs-lookup"><span data-stu-id="110b0-105">Prerequisites</span></span>

<span data-ttu-id="110b0-106">In diesem Artikel wird vorausgesetzt, dass:</span><span class="sxs-lookup"><span data-stu-id="110b0-106">This article assumes that you:</span></span>

- <span data-ttu-id="110b0-107">Sie Visual Studio 2017 oder höher verwenden.</span><span class="sxs-lookup"><span data-stu-id="110b0-107">Are using Visual Studio 2017 or later.</span></span>
  - <span data-ttu-id="110b0-108">.NET Core in früheren Versionen von Visual Studio nicht unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="110b0-108">.NET Core isn't supported on earlier versions of Visual Studio</span></span>
- <span data-ttu-id="110b0-109">Sie den [empfohlenen Portierungsprozess](index.md) verstehen.</span><span class="sxs-lookup"><span data-stu-id="110b0-109">Understand the [recommended porting process](index.md).</span></span>
- <span data-ttu-id="110b0-110">Sie alle Probleme mit [Abhängigkeiten von Drittanbietern](third-party-deps.md) gelöst haben.</span><span class="sxs-lookup"><span data-stu-id="110b0-110">Have resolved any issues with [third-party dependencies](third-party-deps.md).</span></span>

<span data-ttu-id="110b0-111">Sie sollten sich auch mit dem Inhalt in den folgenden Themen vertraut machen:</span><span class="sxs-lookup"><span data-stu-id="110b0-111">You should also become familiar with the content of the following topics:</span></span>

<span data-ttu-id="110b0-112">[.NET-Standard](~/docs/standard/net-standard.md) </span><span class="sxs-lookup"><span data-stu-id="110b0-112">[.NET Standard](~/docs/standard/net-standard.md) </span></span>  
<span data-ttu-id="110b0-113">Dieses Thema beschreibt die formale Spezifikation von .NET-APIs, die in allen .NET-Implementierungen verfügbar sein sollen.</span><span class="sxs-lookup"><span data-stu-id="110b0-113">This topic describes the formal specification of .NET APIs that are intended to be available on all .NET implementations.</span></span>

<span data-ttu-id="110b0-114">[Pakete, Metapakete und Frameworks](~/docs/core/packages.md) </span><span class="sxs-lookup"><span data-stu-id="110b0-114">[Packages, Metapackages and Frameworks](~/docs/core/packages.md) </span></span>  
<span data-ttu-id="110b0-115">In diesem Artikel wird erläutert, wie .NET Core Pakete definiert und verwendet und wie Pakete Code unterstützen, der in mehreren .NET-Implementierungen ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="110b0-115">This article discusses how .NET Core defines and uses packages and how packages support code running on multiple .NET implementations.</span></span>

<span data-ttu-id="110b0-116">[Entwickeln von Bibliotheken mit plattformübergreifenden Tools](~/docs/core/tutorials/libraries.md) </span><span class="sxs-lookup"><span data-stu-id="110b0-116">[Developing Libraries with Cross Platform Tools](~/docs/core/tutorials/libraries.md) </span></span>  
<span data-ttu-id="110b0-117">Dieses Thema erläutert, wie Sie mithilfe von plattformübergreifenden CLI-Tools Bibliotheken für .NET schreiben.</span><span class="sxs-lookup"><span data-stu-id="110b0-117">This topic explains how to write libraries for .NET using cross-platform CLI tools.</span></span>

<span data-ttu-id="110b0-118">[Erweiterungen des *CSPROJ*-Formats für .NET Core](~/docs/core/tools/csproj.md) </span><span class="sxs-lookup"><span data-stu-id="110b0-118">[Additions to the *csproj* format for .NET Core](~/docs/core/tools/csproj.md) </span></span>  
<span data-ttu-id="110b0-119">In diesem Artikel werden die Änderungen erläutert, die an die Projektdateien beim Wechsel zu *csproj* und MSBuild hinzugefügt wurden.</span><span class="sxs-lookup"><span data-stu-id="110b0-119">This article outlines the changes that were added to the project file as part of the move to *csproj* and MSBuild.</span></span>

<span data-ttu-id="110b0-120">[Portieren auf .NET Core – Analysieren der Abhängigkeiten von Drittanbietern](~/docs/core/porting/third-party-deps.md) </span><span class="sxs-lookup"><span data-stu-id="110b0-120">[Porting to .NET Core - Analyzing your Third-Party Party Dependencies](~/docs/core/porting/third-party-deps.md) </span></span>  
<span data-ttu-id="110b0-121">In diesem Thema wird die Portabilität von Drittanbieterabhängigkeiten diskutiert und was Sie tun, wenn die Abhängigkeit eines NuGet-Pakets für .NET Core nicht ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="110b0-121">This topic discusses the portability of third-party dependencies and what to do when a NuGet package dependency doesn't run on .NET Core.</span></span>

## <a name="net-framework-technologies-unavailable-on-net-core"></a><span data-ttu-id="110b0-122">.NET Framework-Technologien, die auf .NET Core nicht verfügbar sind</span><span class="sxs-lookup"><span data-stu-id="110b0-122">.NET Framework technologies unavailable on .NET Core</span></span>

<span data-ttu-id="110b0-123">Einige Technologien, die für .NET Framework-Bibliotheken verfügbar sind, sind für die Verwendung mit .NET Core nicht verfügbar, z.B. AppDomains, Remoting, Codezugriffssicherheit (Code Access Security, CAS) und Sicherheitstransparenz.</span><span class="sxs-lookup"><span data-stu-id="110b0-123">Several technologies available to .NET Framework libraries aren't available for use with .NET Core, such as AppDomains, Remoting, Code Access Security (CAS), and Security Transparency.</span></span> <span data-ttu-id="110b0-124">Wenn Ihre Bibliotheken eine oder mehrere dieser Technologien benötigen, sollten Sie die unten beschriebenen alternativen Ansätze in Erwägung ziehen.</span><span class="sxs-lookup"><span data-stu-id="110b0-124">If your libraries rely on one or more of these technologies, consider the alternative approaches outlined below.</span></span> <span data-ttu-id="110b0-125">Für weitere Informationen zur API-Kompatibilität verwaltet das CoreFX-Team eine [Liste von verhaltensbasierten Änderungen/Kompatibilitätsunterbrechungen und veraltete/ältere APIs](https://github.com/dotnet/corefx/wiki/ApiCompat) auf GitHub.</span><span class="sxs-lookup"><span data-stu-id="110b0-125">For more information on API compatibility, the CoreFX team maintains a [List of behavioral changes/compat breaks and deprecated/legacy APIs](https://github.com/dotnet/corefx/wiki/ApiCompat) at GitHub.</span></span>

<span data-ttu-id="110b0-126">Nur weil eine API oder Technologie derzeit nicht implementiert ist, bedeutet dies nicht zwangsläufig, dass sie absichtlich nicht unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="110b0-126">Just because an API or technology isn't currently implemented doesn't imply it's intentionally unsupported.</span></span> <span data-ttu-id="110b0-127">Melden Sie ein Problem in den [dotnet/CoreFX-Repositoryproblemen](https://github.com/dotnet/corefx/issues) auf GitHub, um bestimmte APIs und Technologien anzufordern.</span><span class="sxs-lookup"><span data-stu-id="110b0-127">File an issue in the [dotnet/corefx repository issues](https://github.com/dotnet/corefx/issues) at GitHub to ask for specific APIs and technologies.</span></span> <span data-ttu-id="110b0-128">[Portierte Anfragen in den Problemen](https://github.com/dotnet/corefx/labels/port-to-core) sind mit der Bezeichnung `port-to-core` markiert.</span><span class="sxs-lookup"><span data-stu-id="110b0-128">[Porting requests in the issues](https://github.com/dotnet/corefx/labels/port-to-core) are marked with the `port-to-core` label.</span></span>

### <a name="appdomains"></a><span data-ttu-id="110b0-129">AppDomains</span><span class="sxs-lookup"><span data-stu-id="110b0-129">AppDomains</span></span>

<span data-ttu-id="110b0-130">AppDomains isoliert Apps voneinander.</span><span class="sxs-lookup"><span data-stu-id="110b0-130">AppDomains isolate apps from one another.</span></span> <span data-ttu-id="110b0-131">AppDomains benötigen eine Runtimeunterstützung und sind im Allgemeinen sehr teuer.</span><span class="sxs-lookup"><span data-stu-id="110b0-131">AppDomains require runtime support and are generally quite expensive.</span></span> <span data-ttu-id="110b0-132">Sie sind nicht in .NET Core implementiert.</span><span class="sxs-lookup"><span data-stu-id="110b0-132">They're not implemented in .NET Core.</span></span> <span data-ttu-id="110b0-133">Wir planen nicht, diese Funktion in Zukunft hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="110b0-133">We don't plan on adding this capability in future.</span></span> <span data-ttu-id="110b0-134">Für die Codeisolierung empfehlen wir separate Prozesse oder die Verwendung von Containern als Alternative.</span><span class="sxs-lookup"><span data-stu-id="110b0-134">For code isolation, we recommend separate processes or using containers as an alternative.</span></span> <span data-ttu-id="110b0-135">Für das dynamische Laden von Assemblys wird die neue Klasse <xref:System.Runtime.Loader.AssemblyLoadContext> empfohlen.</span><span class="sxs-lookup"><span data-stu-id="110b0-135">For the dynamic loading of assemblies, we recommend the new <xref:System.Runtime.Loader.AssemblyLoadContext> class.</span></span>

<span data-ttu-id="110b0-136">Um die Codemigration von .NET Framework verständlicher zu gestalten, haben wir einiges der <xref:System.AppDomain>-API-Oberfläche in .NET Core verfügbar gemacht.</span><span class="sxs-lookup"><span data-stu-id="110b0-136">To make code migration from .NET Framework easier, we've exposed some of the <xref:System.AppDomain> API surface in .NET Core.</span></span> <span data-ttu-id="110b0-137">Manche Elemente der API funktionieren normal (z.B. <xref:System.AppDomain.UnhandledException?displayProperty=nameWithType>), einige Member führen keine Aktion aus (z.B. <xref:System.AppDomain.SetCachePath%2A>), und einige davon lösen <xref:System.PlatformNotSupportedException> aus (z.B. <xref:System.AppDomain.CreateDomain%2A>).</span><span class="sxs-lookup"><span data-stu-id="110b0-137">Some of the API functions normally (for example, <xref:System.AppDomain.UnhandledException?displayProperty=nameWithType>), some members do nothing (for example, <xref:System.AppDomain.SetCachePath%2A>), and some of them throw <xref:System.PlatformNotSupportedException> (for example, <xref:System.AppDomain.CreateDomain%2A>).</span></span> <span data-ttu-id="110b0-138">Überprüfen Sie die Typen, die Sie für die [`System.AppDomain`-Verweisquelle](https://github.com/dotnet/corefx/blob/master/src/System.Runtime.Extensions/src/System/AppDomain.cs) im [dotnet/CoreFX-GitHub-Repository](https://github.com/dotnet/corefx) verwenden. Stellen Sie dabei sicher, dass Sie den Branch auswählen, der mit Ihrer implementierten Version übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="110b0-138">Check the types you use against the [`System.AppDomain` reference source](https://github.com/dotnet/corefx/blob/master/src/System.Runtime.Extensions/src/System/AppDomain.cs) in the [dotnet/corefx GitHub repository](https://github.com/dotnet/corefx) making sure to select the branch that matches your implemented version.</span></span>

### <a name="remoting"></a><span data-ttu-id="110b0-139">Remoting</span><span class="sxs-lookup"><span data-stu-id="110b0-139">Remoting</span></span>

<span data-ttu-id="110b0-140">.NET-Remoting wurde als eine problematische Architektur identifiziert.</span><span class="sxs-lookup"><span data-stu-id="110b0-140">.NET Remoting was identified as a problematic architecture.</span></span> <span data-ttu-id="110b0-141">Es wird für die AppDomain-übergreifende Kommunikation verwendet, die nicht mehr unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="110b0-141">It's used for cross-AppDomain communication, which is no longer supported.</span></span> <span data-ttu-id="110b0-142">Darüber hinaus erfordert Remoting die Runtimeunterstützung, die teuer in der Wartung ist.</span><span class="sxs-lookup"><span data-stu-id="110b0-142">Also, Remoting requires runtime support, which is expensive to maintain.</span></span> <span data-ttu-id="110b0-143">Aus diesen Gründen wird .NET-Remoting auf .NET Core nicht unterstützt, und wir planen nicht, zukünftig eine Unterstützung dafür hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="110b0-143">For these reasons, .NET Remoting isn't supported on .NET Core, and we don't plan on adding support for it in the future.</span></span>

<span data-ttu-id="110b0-144">Für die Kommunikation zwischen Prozessen sollten Sie die Mechanismen der prozessübergreifenden Kommunikation (interprocess communication, IPC) als Alternative zu Remoting berücksichtigen, zB die Klassen <xref:System.IO.Pipes> oder <xref:System.IO.MemoryMappedFiles.MemoryMappedFile>.</span><span class="sxs-lookup"><span data-stu-id="110b0-144">For communication across processes, consider inter-process communication (IPC) mechanisms as an alternative to Remoting, such as the <xref:System.IO.Pipes> or the <xref:System.IO.MemoryMappedFiles.MemoryMappedFile> class.</span></span>

<span data-ttu-id="110b0-145">Verwenden Sie computerübergreifend eine netzwerkbasierte Lösung als Alternative.</span><span class="sxs-lookup"><span data-stu-id="110b0-145">Across machines, use a network-based solution as an alternative.</span></span> <span data-ttu-id="110b0-146">Verwenden Sie vorzugsweise ein Nur-Text-Protokoll mit geringem Verwaltungsaufwand, z.B. HTTP.</span><span class="sxs-lookup"><span data-stu-id="110b0-146">Preferably, use a low-overhead plain text protocol, such as HTTP.</span></span> <span data-ttu-id="110b0-147">Der [Kestrel Webserver](https://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel), der von ASP.NET Core verwendete Webserver, ist hier eine Option.</span><span class="sxs-lookup"><span data-stu-id="110b0-147">The [Kestrel web server](https://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel), the web server used by ASP.NET Core, is an option here.</span></span> <span data-ttu-id="110b0-148">Ziehen Sie auch die Verwendung von <xref:System.Net.Sockets> für netzwerkbasierte, computerübergreifende Szenarios in Erwägung.</span><span class="sxs-lookup"><span data-stu-id="110b0-148">Also consider using <xref:System.Net.Sockets> for network-based, cross-machine scenarios.</span></span> <span data-ttu-id="110b0-149">Weitere Optionen finden Sie unter [.NET Open Source Developer Projects: Messaging (.NET Open Source-Entwicklerprojekte: Messaging)](https://github.com/Microsoft/dotnet/blob/master/dotnet-developer-projects.md#messaging).</span><span class="sxs-lookup"><span data-stu-id="110b0-149">For more options, see [.NET Open Source Developer Projects: Messaging](https://github.com/Microsoft/dotnet/blob/master/dotnet-developer-projects.md#messaging).</span></span>

### <a name="code-access-security-cas"></a><span data-ttu-id="110b0-150">Codezugriffssicherheit (Code Access Security, CAS)</span><span class="sxs-lookup"><span data-stu-id="110b0-150">Code Access Security (CAS)</span></span>

<span data-ttu-id="110b0-151">Das Verwenden einer Sandbox, das sich auf die Runtime oder das Framework verlässt, um einzuschränken, welche Ressourcen eine verwaltete Anwendung oder Bibliothek verwendet oder ausführt, [wird in .NET Framework nicht unterstützt](~/docs/framework/misc/code-access-security.md). Daher wird es auch in .NET Core nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="110b0-151">Sandboxing, which is relying on the runtime or the framework to constrain which resources a managed application or library uses or runs, [isn't supported on .NET Framework](~/docs/framework/misc/code-access-security.md) and therefore is also not supported on .NET Core.</span></span> <span data-ttu-id="110b0-152">Wir glauben, dass es zu viele Fälle im .NET Framework und in der Runtime gibt, in denen eine Rechteerweiterung CAS weiterhin als Sicherheitsgrenze behandelt.</span><span class="sxs-lookup"><span data-stu-id="110b0-152">We believe that there are too many cases in the .NET Framework and runtime where an elevation of privileges occurs to continue treating CAS as a security boundary.</span></span> <span data-ttu-id="110b0-153">Darüber hinaus macht CAS die Implementierung komplizierter und führt oft zu Auswirkungen auf die Leistung der Korrektheitsprüfung für Anwendungen, die dies nicht verwenden sollen.</span><span class="sxs-lookup"><span data-stu-id="110b0-153">In addition, CAS makes the implementation more complicated and often has correctness-performance implications for applications that don't intend to use it.</span></span>

<span data-ttu-id="110b0-154">Verwenden Sie vom Betriebssystem bereitgestellte Sicherheitsgrenzen, wie Virtualisierung, Container oder Benutzerkonten zum Ausführen von Prozessen mit den geringsten Rechten.</span><span class="sxs-lookup"><span data-stu-id="110b0-154">Use security boundaries provided by the operating system, such as virtualization, containers, or user accounts for running processes with the least set of privileges.</span></span>

### <a name="security-transparency"></a><span data-ttu-id="110b0-155">Sicherheitstransparenz</span><span class="sxs-lookup"><span data-stu-id="110b0-155">Security Transparency</span></span>

<span data-ttu-id="110b0-156">Ähnlich wie CAS ermöglicht die Sicherheitstransparenz das Trennen von Sandboxcode von sicherheitsrelevantem Code in einer deklarativen Weise, aber sie wird [nicht mehr als eine Sicherheitsgrenze unterstützt](~/docs/framework/misc/security-transparent-code.md).</span><span class="sxs-lookup"><span data-stu-id="110b0-156">Similar to CAS, Security Transparency allows separating sandboxed code from security critical code in a declarative fashion but is [no longer supported as a security boundary](~/docs/framework/misc/security-transparent-code.md).</span></span> <span data-ttu-id="110b0-157">Diese Funktion wird oft von Silverlight verwendet.</span><span class="sxs-lookup"><span data-stu-id="110b0-157">This feature is heavily used by Silverlight.</span></span> 

<span data-ttu-id="110b0-158">Verwenden Sie vom Betriebssystem bereitgestellte Sicherheitsgrenzen, wie Virtualisierung, Container oder Benutzerkonten zum Ausführen von Prozessen mit den geringsten Rechten.</span><span class="sxs-lookup"><span data-stu-id="110b0-158">Use security boundaries provided by the operating system, such as virtualization, containers, or user accounts for running processes with the least set of privileges.</span></span>

## <a name="retargeting-your-net-framework-code-to-net-framework-472"></a><span data-ttu-id="110b0-159">Neuzuweisung Ihres .NET Framework-Codes zu .NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="110b0-159">Retargeting your .NET Framework code to .NET Framework 4.7.2</span></span>

<span data-ttu-id="110b0-160">Wenn Ihr Code nicht .NET Framework 4.7.2 als Ziel festlegt, wird empfohlen, dass Sie .NET Framework 4.7.2. neu zuweisen.</span><span class="sxs-lookup"><span data-stu-id="110b0-160">If your code isn't targeting .NET Framework 4.7.2, we recommended that you retarget to .NET Framework 4.7.2.</span></span> <span data-ttu-id="110b0-161">Dadurch wird die Verfügbarkeit der neuesten API-Alternativen für Fälle sichergestellt, in denen .NET-Standard vorhandene APIs nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="110b0-161">This ensures the availability of the latest API alternatives for cases where the .NET Standard doesn't support existing APIs.</span></span>

<span data-ttu-id="110b0-162">Führen Sie für jedes Projekt in Visual Studio, das Sie portieren möchten, die folgenden Schritte durch:</span><span class="sxs-lookup"><span data-stu-id="110b0-162">For each of your projects in Visual Studio you wish to port, do the following:</span></span>

1. <span data-ttu-id="110b0-163">Klicken Sie mit der rechten Maustaste auf das Projekt, und wählen Sie **Eigenschaften** aus.</span><span class="sxs-lookup"><span data-stu-id="110b0-163">Right-click on the project and select **Properties**.</span></span>
1. <span data-ttu-id="110b0-164">Klicken Sie in der Dropdownliste **Zielframework** auf **.NET Framework 4.7.2**.</span><span class="sxs-lookup"><span data-stu-id="110b0-164">In the **Target Framework** dropdown, select **.NET Framework 4.7.2**.</span></span>
1. <span data-ttu-id="110b0-165">Kompilieren Sie Ihre Projekte neu.</span><span class="sxs-lookup"><span data-stu-id="110b0-165">Recompile your projects.</span></span>

<span data-ttu-id="110b0-166">Da Ihre Projekte jetzt .NET Framework 4.7.2 als Ziel festgelegt haben, verwenden Sie diese Version von .NET Framework als Grundlage zum Portieren von Code.</span><span class="sxs-lookup"><span data-stu-id="110b0-166">Because your projects now target .NET Framework 4.7.2, use that version of the .NET Framework as your base for porting code.</span></span>

## <a name="determining-the-portability-of-your-code"></a><span data-ttu-id="110b0-167">Bestimmen der Portabilität Ihres Codes</span><span class="sxs-lookup"><span data-stu-id="110b0-167">Determining the portability of your code</span></span>

<span data-ttu-id="110b0-168">Führen Sie als nächsten Schritt den API Portability Analyzer (ApiPort) aus, um einen Portabilitätsbericht für die Analyse zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="110b0-168">The next step is to run the API Portability Analyzer (ApiPort) to generate a portability report for analysis.</span></span>

<span data-ttu-id="110b0-169">Stellen Sie sicher, dass Sie den [API Portability Analyzer (ApiPort)](../../standard/analyzers/portability-analyzer.md) verstehen und verstehen, wie Sie Portabilitätsberichte generieren, die .NET Core als Ziel festlegen.</span><span class="sxs-lookup"><span data-stu-id="110b0-169">Make sure you understand the [API Portability Analyzer (ApiPort)](../../standard/analyzers/portability-analyzer.md) and how to generate portability reports for targeting .NET Core.</span></span> <span data-ttu-id="110b0-170">Wie Sie das bewerkstelligen, hängt von Ihren Bedürfnissen und Ihrem persönlichen Geschmack ab.</span><span class="sxs-lookup"><span data-stu-id="110b0-170">How you do this likely varies based on your needs and personal tastes.</span></span> <span data-ttu-id="110b0-171">Nachfolgend werden ein paar unterschiedliche Ansätze aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="110b0-171">What follows are a few different approaches.</span></span> <span data-ttu-id="110b0-172">Sie können Schritte dieser Ansätze kombinieren, je nachdem, wie der Code strukturiert ist.</span><span class="sxs-lookup"><span data-stu-id="110b0-172">You may find yourself mixing steps of these approaches depending on how your code is structured.</span></span>

### <a name="dealing-primarily-with-the-compiler"></a><span data-ttu-id="110b0-173">Schwerpunktmäßiger Umgang mit dem Compiler</span><span class="sxs-lookup"><span data-stu-id="110b0-173">Dealing primarily with the compiler</span></span>

<span data-ttu-id="110b0-174">Diese Vorgehensweise ist möglicherweise am Besten für kleine Projekte oder für Projekte, die nicht viele .NET Framework-APIs verwenden.</span><span class="sxs-lookup"><span data-stu-id="110b0-174">This approach may be the best for small projects or projects which don't use many .NET Framework APIs.</span></span> <span data-ttu-id="110b0-175">Der Ansatz ist einfach:</span><span class="sxs-lookup"><span data-stu-id="110b0-175">The approach is simple:</span></span>

1. <span data-ttu-id="110b0-176">Führen Sie optional ApiPort auf Ihrem Projekt aus.</span><span class="sxs-lookup"><span data-stu-id="110b0-176">Optionally, run ApiPort on your project.</span></span> <span data-ttu-id="110b0-177">Wenn Sie ApiPort ausführen, erhalten Sie Informationen aus dem Bericht über Probleme, die Sie behandeln müssen.</span><span class="sxs-lookup"><span data-stu-id="110b0-177">If you run ApiPort, gain knowledge from the report on issues you'll need to address.</span></span>
1. <span data-ttu-id="110b0-178">Kopieren Sie Ihren gesamten Code in ein neues .NET Core-Projekt.</span><span class="sxs-lookup"><span data-stu-id="110b0-178">Copy all of your code over into a new .NET Core project.</span></span>
1. <span data-ttu-id="110b0-179">Lösen Sie Compilerfehler, bis das Projekt vollständig kompiliert ist, während Sie auf den Portabilitätsbericht verweisen (wenn er generiert wurde).</span><span class="sxs-lookup"><span data-stu-id="110b0-179">While referring to the portability report (if generated), solve compiler errors until the project fully compiles.</span></span>

<span data-ttu-id="110b0-180">Obwohl dieser Ansatz unstrukturiert ist, führt der codeorientierte Ansatz oft dazu, dass Fehler schnell gelöst werden, und er kann sich auch am besten für kleinere Projekte oder Bibliotheken eignen.</span><span class="sxs-lookup"><span data-stu-id="110b0-180">Although this approach is unstructured, the code-focused approach often leads to resolving issues quickly and might be the best approach for smaller projects or libraries.</span></span> <span data-ttu-id="110b0-181">Ein Projekt, das nur Datenmodelle enthält, kann möglicherweise ein idealer Kandidat für diesen Ansatz sein.</span><span class="sxs-lookup"><span data-stu-id="110b0-181">A project that contains only data models might be an ideal candidate for this approach.</span></span>

### <a name="staying-on-the-net-framework-until-portability-issues-are-resolved"></a><span data-ttu-id="110b0-182">Auf dem .NET Framework bleiben, bis Portabilitätsprobleme gelöst sind</span><span class="sxs-lookup"><span data-stu-id="110b0-182">Staying on the .NET Framework until portability issues are resolved</span></span>

<span data-ttu-id="110b0-183">Dieser Ansatz kann möglicherweise die beste Lösung, wenn Sie lieber über Code verfügen möchten, der während des gesamten Prozesses kompiliert wird.</span><span class="sxs-lookup"><span data-stu-id="110b0-183">This approach might be the best if you prefer to have code that compiles during the entire process.</span></span> <span data-ttu-id="110b0-184">Die Vorgehensweise sieht wie Folgt aus:</span><span class="sxs-lookup"><span data-stu-id="110b0-184">The approach is as follows:</span></span>

1. <span data-ttu-id="110b0-185">Führen Sie ApiPort auf einem Projekt aus.</span><span class="sxs-lookup"><span data-stu-id="110b0-185">Run ApiPort on a project.</span></span>
1. <span data-ttu-id="110b0-186">Beheben Sie Probleme mithilfe der verschiedenen APIs, die übertragbar sind.</span><span class="sxs-lookup"><span data-stu-id="110b0-186">Address issues by using different APIs that are portable.</span></span>
1. <span data-ttu-id="110b0-187">Notieren Sie alle Bereiche, in denen Sie daran gehindert werden, eine direkte Alternative zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="110b0-187">Take note of any areas where you're prevented from using a direct alternative.</span></span>
1. <span data-ttu-id="110b0-188">Wiederholen Sie die vorherigen Schritte für alle Projekte, die Sie portieren, bis Sie sicher sind, dass jedes Projekt in ein neues .NET Core-Projekt kopiert wurde.</span><span class="sxs-lookup"><span data-stu-id="110b0-188">Repeat the prior steps for all projects you're porting until you're confident each is ready to be copied over into a new .NET Core project.</span></span>
1. <span data-ttu-id="110b0-189">Kopieren Sie den Code in ein neues .NET Core-Projekt.</span><span class="sxs-lookup"><span data-stu-id="110b0-189">Copy the code into a new .NET Core project.</span></span>
1. <span data-ttu-id="110b0-190">Lösen sie alle Probleme, bei denen Sie sich notiert haben, dass keine direkte Alternative existiert.</span><span class="sxs-lookup"><span data-stu-id="110b0-190">Work out any issues where you noted that a direct alternative doesn't exist.</span></span>

<span data-ttu-id="110b0-191">Dieser sorgfältige Ansatz ist strukturierter als einfach Compilerfehler zu beheben, ist jedoch auch relativ codeorientiert und hat den Vorteil, dass immer Code vorhanden ist, der kompiliert wird.</span><span class="sxs-lookup"><span data-stu-id="110b0-191">This careful approach is more structured than simply working out compiler errors, but it's still relatively code-focused and has the benefit of always having code that compiles.</span></span> <span data-ttu-id="110b0-192">Die Herangehensweise, wie Sie bestimmte Probleme lösen, die nicht nur durch einfaches Verwenden einer anderen API behoben werden können, variiert stark.</span><span class="sxs-lookup"><span data-stu-id="110b0-192">The way you resolve certain issues that couldn't be addressed by just using another API varies greatly.</span></span> <span data-ttu-id="110b0-193">Möglicherweise müssen Sie einen umfassenderen Plan für bestimmte Projekte entwickeln, der als weitere Vorgehensweise gilt.</span><span class="sxs-lookup"><span data-stu-id="110b0-193">You may find that you need to develop a more comprehensive plan for certain projects, which is covered as the next approach.</span></span>

### <a name="developing-a-comprehensive-plan-of-attack"></a><span data-ttu-id="110b0-194">Entwickeln eines umfassenden Vorgehensplans</span><span class="sxs-lookup"><span data-stu-id="110b0-194">Developing a comprehensive plan of attack</span></span>

<span data-ttu-id="110b0-195">Dieser Ansatz ist möglicherweise am besten für größere und komplexere Projekte geeignet, bei denen es womöglich nötig ist, Code umzustrukturieren oder bestimmte Bereiche komplett neu zu schreiben, um .NET Core zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="110b0-195">This approach might be best for larger and more complex projects, where restructuring code or completely rewriting certain areas of code might be necessary to support .NET Core.</span></span> <span data-ttu-id="110b0-196">Die Vorgehensweise sieht wie Folgt aus:</span><span class="sxs-lookup"><span data-stu-id="110b0-196">The approach is as follows:</span></span>

1. <span data-ttu-id="110b0-197">Führen Sie ApiPort auf einem Projekt aus.</span><span class="sxs-lookup"><span data-stu-id="110b0-197">Run ApiPort on a project.</span></span>
1. <span data-ttu-id="110b0-198">Sie müssen verstehen, wo jeder nicht portable Typ verwendet wird und wie sich dies auf die gesamte Portabilität auswirkt.</span><span class="sxs-lookup"><span data-stu-id="110b0-198">Understand where each non-portable type is used and how that affects overall portability.</span></span>
   - <span data-ttu-id="110b0-199">Verstehen sie die Natur dieser Typen.</span><span class="sxs-lookup"><span data-stu-id="110b0-199">Understand the nature of those types.</span></span> <span data-ttu-id="110b0-200">Stellen sie nur eine geringe Anzahl dar, werden jedoch oft verwendet?</span><span class="sxs-lookup"><span data-stu-id="110b0-200">Are they small in number but used frequently?</span></span> <span data-ttu-id="110b0-201">Stellen sie eine hohe Anzahl dar, werden jedoch nicht oft verwendet?</span><span class="sxs-lookup"><span data-stu-id="110b0-201">Are they large in number but used infrequently?</span></span> <span data-ttu-id="110b0-202">Ist ihre Verwendung auf einen Punkt ausgerichtet oder im gesamten Code verteilt?</span><span class="sxs-lookup"><span data-stu-id="110b0-202">Is their use concentrated, or is it spread throughout your code?</span></span>
   - <span data-ttu-id="110b0-203">Ist es einfach, Code zu isolieren, der nicht portabel ist, damit Sie effektiver damit umgehen können?</span><span class="sxs-lookup"><span data-stu-id="110b0-203">Is it easy to isolate code that isn't portable so that you can deal with it more effectively?</span></span>
   - <span data-ttu-id="110b0-204">Müssen Sie Ihren Code umgestalten?</span><span class="sxs-lookup"><span data-stu-id="110b0-204">Do you need to refactor your code?</span></span>
   - <span data-ttu-id="110b0-205">Gibt es für nicht portable Typen alternative APIs, die die gleiche Aufgabe erfüllen?</span><span class="sxs-lookup"><span data-stu-id="110b0-205">For those types which aren't portable, are there alternative APIs that accomplish the same task?</span></span> <span data-ttu-id="110b0-206">Wenn Sie z.B. die <xref:System.Net.WebClient>-Klasse verwenden, können Sie stattdessen möglicherweise die <xref:System.Net.Http.HttpClient>-Klasse verwenden.</span><span class="sxs-lookup"><span data-stu-id="110b0-206">For example if you're using the <xref:System.Net.WebClient> class, you might be able to use the <xref:System.Net.Http.HttpClient> class instead.</span></span>
   - <span data-ttu-id="110b0-207">Gibt es unterschiedliche portable APIs, die für die Erfüllung der Aufgabe verfügbar sind, auch wenn es kein direkter Ersatz ist?</span><span class="sxs-lookup"><span data-stu-id="110b0-207">Are there different portable APIs available to accomplish a task, even if it's not a drop-in replacement?</span></span> <span data-ttu-id="110b0-208">Wenn Sie z.B. <xref:System.Xml.Schema.XmlSchema> verwenden, um XML zu analysieren, aber keine XML-Schemasuche erforderlich ist, können Sie die <xref:System.Xml.Linq>-APIs verwenden und das Analysieren selbst implementieren, anstatt auf eine API zu vertrauen.</span><span class="sxs-lookup"><span data-stu-id="110b0-208">For example if you're using <xref:System.Xml.Schema.XmlSchema> to parse XML but don't require XML schema discovery, you could use <xref:System.Xml.Linq> APIs and implement parsing yourself as opposed to relying on an API.</span></span>
1. <span data-ttu-id="110b0-209">Wenn Sie über Assemblys verfügen, die schwierig zu portieren sind, bringt es etwas, Sie vorübergehend in .NET Framework zu lassen?</span><span class="sxs-lookup"><span data-stu-id="110b0-209">If you have assemblies that are difficult to port, is it worth leaving them on .NET Framework for now?</span></span> <span data-ttu-id="110b0-210">Nachfolgend sind einige Dinge aufgeführt, die Sie bedenken sollten:</span><span class="sxs-lookup"><span data-stu-id="110b0-210">Here are some things to consider:</span></span>
   - <span data-ttu-id="110b0-211">Sie verfügen womöglich über einige Funktionen in Ihrer Bibliothek, die mit .NET Core inkompatibel sind, da es zu sehr auf der bestimmten .NET Framework- oder Windows-Funktionalität basiert.</span><span class="sxs-lookup"><span data-stu-id="110b0-211">You may have some functionality in your library that's incompatible with .NET Core because it relies too heavily on .NET Framework or Windows-specific functionality.</span></span> <span data-ttu-id="110b0-212">Ist es also vorteilhaft, diese Funktionalität vorübergehend zu ignorieren, und temporär eine .NET Core-Version Ihrer Bibliothek mit weniger Funktionen zu veröffentlichen, bis die Ressourcen verfügbar sind, um die Funktionieren zu portieren?</span><span class="sxs-lookup"><span data-stu-id="110b0-212">Is it worth leaving that functionality behind for now and releasing a .NET Core version of your library with less features on a temporary basis until resources are available to port the features?</span></span>
   - <span data-ttu-id="110b0-213">Würde eine Umgestaltung helfen?</span><span class="sxs-lookup"><span data-stu-id="110b0-213">Would a refactor help?</span></span>
1. <span data-ttu-id="110b0-214">Ist es sinnvoll, eine eigene Implementierung einer nicht verfügbaren .NET Framework-API zu schreiben?</span><span class="sxs-lookup"><span data-stu-id="110b0-214">Is it reasonable to write your own implementation of an unavailable .NET Framework API?</span></span>
   <span data-ttu-id="110b0-215">Sie könnten kopieren, ändern und Code aus der [.NET Framework Verweisquelle](https://github.com/Microsoft/referencesource) verwenden.</span><span class="sxs-lookup"><span data-stu-id="110b0-215">You could consider copying, modifying, and using code from the [.NET Framework Reference Source](https://github.com/Microsoft/referencesource).</span></span> <span data-ttu-id="110b0-216">Der Quellcode für den Verweis wird unter der [MIT-Lizenz](https://github.com/Microsoft/referencesource/blob/master/LICENSE.txt) lizenziert. Daher verfügen Sie über eine erhebliche Freiheit, die Quelle als Grundlage für Ihren eigenen Code zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="110b0-216">The reference source code is licensed under the [MIT License](https://github.com/Microsoft/referencesource/blob/master/LICENSE.txt), so you have significant freedom to use the source as a basis for your own code.</span></span> <span data-ttu-id="110b0-217">Stellen Sie nur sicher, dass Sie Microsoft ordnungsgemäß Ihrem Code zugeordnet haben.</span><span class="sxs-lookup"><span data-stu-id="110b0-217">Just be sure to properly attribute Microsoft in your code.</span></span>
1. <span data-ttu-id="110b0-218">Wiederholen Sie diesen Vorgang für verschiedene Projekte nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="110b0-218">Repeat this process as needed for different projects.</span></span>
 
<span data-ttu-id="110b0-219">Die Analysephase kann je nach Größe Ihrer Codebasis einige Zeit dauern.</span><span class="sxs-lookup"><span data-stu-id="110b0-219">The analysis phase could take some time depending on the size of your codebase.</span></span> <span data-ttu-id="110b0-220">Sie können sich auf lange Sicht Zeit in dieser Phase sparen, wenn Sie den Umfang der erforderlichen Änderungen verstehen und einen Plan entwickeln, besonders, wenn sie über eine komplexe Codebasis verfügen.</span><span class="sxs-lookup"><span data-stu-id="110b0-220">Spending time in this phase to thoroughly understand the scope of changes needed and to develop a plan usually saves you time in the long run, particularly if you have a complex codebase.</span></span>

<span data-ttu-id="110b0-221">Ihr Plan kann wichtige Änderungen an Ihrer Codebase erfordern, während Sie noch immer auf .NET Framework 4.7.2 abzielen. Dadurch entsteht eine strukturiertere Version des vorherigen Ansatzes.</span><span class="sxs-lookup"><span data-stu-id="110b0-221">Your plan could involve making significant changes to your codebase while still targeting .NET Framework 4.7.2, making this a more structured version of the previous approach.</span></span> <span data-ttu-id="110b0-222">Wie Sie Ihren Plan ausführen, hängt von Ihrer Codebasis ab.</span><span class="sxs-lookup"><span data-stu-id="110b0-222">How you go about executing your plan is dependent on your codebase.</span></span>

### <a name="mixing-approaches"></a><span data-ttu-id="110b0-223">Mischen von Ansätzen</span><span class="sxs-lookup"><span data-stu-id="110b0-223">Mixing approaches</span></span>

<span data-ttu-id="110b0-224">Es ist wahrscheinlich, dass Sie die oben genannten Vorgehensweisen jeweils pro Projekt mischen werden.</span><span class="sxs-lookup"><span data-stu-id="110b0-224">It's likely that you'll mix the above approaches on a per-project basis.</span></span> <span data-ttu-id="110b0-225">Sie sollten den Ansatz wählen, der am meisten Sinn für Sie und Ihre Codebasis macht.</span><span class="sxs-lookup"><span data-stu-id="110b0-225">You should do what makes the most sense to you and for your codebase.</span></span>

## <a name="porting-your-tests"></a><span data-ttu-id="110b0-226">Portieren der Tests</span><span class="sxs-lookup"><span data-stu-id="110b0-226">Porting your tests</span></span>

<span data-ttu-id="110b0-227">Die beste Möglichkeit, um sicherzustellen, dass alles funktioniert, wenn Sie Ihren Code importiert haben, ist das Testen Ihres Codes beim Portieren auf .NET Core.</span><span class="sxs-lookup"><span data-stu-id="110b0-227">The best way to make sure everything works when you've ported your code is to test your code as you port it to .NET Core.</span></span> <span data-ttu-id="110b0-228">Zu diesem Zweck müssen Sie ein Test-Framework verwenden, das Tests für .NET Core erstellt und ausführt.</span><span class="sxs-lookup"><span data-stu-id="110b0-228">To do this, you'll need to use a testing framework that builds and runs tests for .NET Core.</span></span> <span data-ttu-id="110b0-229">Derzeit stehen Ihnen drei Optionen zur Verfügung:</span><span class="sxs-lookup"><span data-stu-id="110b0-229">Currently, you have three options:</span></span>

- [<span data-ttu-id="110b0-230">xUnit</span><span class="sxs-lookup"><span data-stu-id="110b0-230">xUnit</span></span>](https://xunit.github.io/)
  * [<span data-ttu-id="110b0-231">Erste Schritte</span><span class="sxs-lookup"><span data-stu-id="110b0-231">Getting Started</span></span>](https://xunit.github.io/docs/getting-started-dotnet-core.html)
  * [<span data-ttu-id="110b0-232">Tool zum Konvertieren eines MSTest-Projekts zu xUnit</span><span class="sxs-lookup"><span data-stu-id="110b0-232">Tool to convert an MSTest project to xUnit</span></span>](https://github.com/dotnet/codeformatter/tree/master/src/XUnitConverter)
- [<span data-ttu-id="110b0-233">NUnit</span><span class="sxs-lookup"><span data-stu-id="110b0-233">NUnit</span></span>](https://nunit.org/)
  * [<span data-ttu-id="110b0-234">Erste Schritte</span><span class="sxs-lookup"><span data-stu-id="110b0-234">Getting Started</span></span>](https://github.com/nunit/docs/wiki/Installation)
  * [<span data-ttu-id="110b0-235">Blogbeitrag zur Migration von MSTest zu NUnit (in englischer Sprache)</span><span class="sxs-lookup"><span data-stu-id="110b0-235">Blog post about migrating from MSTest to NUnit</span></span>](https://www.florian-rappl.de/News/Page/275/convert-mstest-to-nunit)
- [<span data-ttu-id="110b0-236">MSTest</span><span class="sxs-lookup"><span data-stu-id="110b0-236">MSTest</span></span>](https://docs.microsoft.com/visualstudio/test/unit-test-basics)

## <a name="recommended-approach-to-porting"></a><span data-ttu-id="110b0-237">Empfohlener Ansatz zum Portieren</span><span class="sxs-lookup"><span data-stu-id="110b0-237">Recommended approach to porting</span></span>

<span data-ttu-id="110b0-238">Die Arbeit für die Portierung hängt letztendlich schwer davon ab, wie Ihr .NET Framework-Code strukturiert ist.</span><span class="sxs-lookup"><span data-stu-id="110b0-238">Ultimately, the porting effort depends heavily on how your .NET Framework code is structured.</span></span> <span data-ttu-id="110b0-239">Eine gute Möglichkeit zum Portieren von Code ist der Beginn mit der *Basis* Ihrer Bibliothek, die aus den grundlegenden Komponenten Ihres Codes besteht.</span><span class="sxs-lookup"><span data-stu-id="110b0-239">A good way to port your code is to begin with the *base* of your library, which are the foundational components of your code.</span></span> <span data-ttu-id="110b0-240">Dies sind womöglich Datenmodelle oder einige andere grundlegende Klassen und Methoden, die von allem anderen direkt oder indirekt verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="110b0-240">This might be data models or some other foundational classes and methods that everything else uses directly or indirectly.</span></span>

1. <span data-ttu-id="110b0-241">Portieren Sie das Testprojekt, das die Ebene Ihrer Bibliothek testet, die Sie derzeit portieren.</span><span class="sxs-lookup"><span data-stu-id="110b0-241">Port the test project that tests the layer of your library that you're currently porting.</span></span>
1. <span data-ttu-id="110b0-242">Kopieren Sie die Basis Ihrer Bibliothek in ein neues .NET Core-Projekt, und wählen Sie die Version von .NET-Standard aus, die Sie unterstützen möchten.</span><span class="sxs-lookup"><span data-stu-id="110b0-242">Copy over the base of your library into a new .NET Core project and select the version of the .NET Standard you wish to support.</span></span>
1. <span data-ttu-id="110b0-243">Führen Sie alle erforderlichen Änderungen durch, sodass der Code kompiliert werden kann.</span><span class="sxs-lookup"><span data-stu-id="110b0-243">Make any changes needed to get the code to compile.</span></span> <span data-ttu-id="110b0-244">Vieles davon erfordert möglicherweise das Hinzufügen von NuGet-Paketabhängigkeiten zu ihrer *csproj*-Datei.</span><span class="sxs-lookup"><span data-stu-id="110b0-244">Much of this may require adding NuGet package dependencies to your *csproj* file.</span></span>
1. <span data-ttu-id="110b0-245">Führen Sie die Tests aus, und führen Sie erforderliche Anpassungen durch.</span><span class="sxs-lookup"><span data-stu-id="110b0-245">Run the tests and make any needed adjustments.</span></span>
1. <span data-ttu-id="110b0-246">Wählen Sie die nächste Codeebene aus, die portiert werden soll, und wiederholen Sie die vorherigen Schritte.</span><span class="sxs-lookup"><span data-stu-id="110b0-246">Pick the next layer of code to port over and repeat the prior steps.</span></span>

<span data-ttu-id="110b0-247">Wenn Sie mit der Basis Ihrer Bibliothek beginnen und sich von der Basis aus nach außen bewegen, und jede Ebene wie erforderlich testen, ist die Portierung ein schematischer Prozess, bei dem Probleme jeweils auf einer Codeebene isoliert werden.</span><span class="sxs-lookup"><span data-stu-id="110b0-247">If you start with the base of your library and move outward from the base and test each layer as needed, porting is a systematic process where problems are isolated to one layer of code at a time.</span></span>
